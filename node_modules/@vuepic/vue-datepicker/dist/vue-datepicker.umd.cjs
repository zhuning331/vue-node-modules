(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=c(e.Vue,e.dateFns))})(this,function(e,c){"use strict";const Se=(t,r)=>{const a=t.__vccOpts||t;for(const[n,s]of r)a[n]=s;return a},Wt={},jt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Gt=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function Zt(t,r){return e.openBlock(),e.createElementBlock("svg",jt,Gt)}const Le=Se(Wt,[["render",Zt]]),qt={},Xt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Jt=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function Qt(t,r){return e.openBlock(),e.createElementBlock("svg",Xt,Jt)}const Ft=Se(qt,[["render",Qt]]),en={},tn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},nn=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function rn(t,r){return e.openBlock(),e.createElementBlock("svg",tn,nn)}const wt=Se(en,[["render",rn]]),an={},ln={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},on=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function sn(t,r){return e.openBlock(),e.createElementBlock("svg",ln,on)}const bt=Se(an,[["render",sn]]),cn={},un={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},dn=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function fn(t,r){return e.openBlock(),e.createElementBlock("svg",un,dn)}const Dt=Se(cn,[["render",fn]]),mn={},yn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},hn=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function pn(t,r){return e.openBlock(),e.createElementBlock("svg",yn,hn)}const $t=Se(mn,[["render",pn]]),gn={},kn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},wn=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function bn(t,r){return e.openBlock(),e.createElementBlock("svg",kn,wn)}const Ct=Se(gn,[["render",bn]]),Mt=(t,r)=>{const a=c.parse(t,r.slice(0,t.length),new Date);return c.isValid(a)&&c.isDate(a)?a:null},Dn=(t,r)=>{if(typeof r=="string")return Mt(t,r);if(Array.isArray(r)){let a=null;for(const n of r)if(a=Mt(t,n),a)break;return a}return typeof r=="function"?r(t):null},b=t=>t?new Date(t):new Date,$n=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),k=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${s}T${f}:${k}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},De=t=>{let r=b(JSON.parse(JSON.stringify(t)));return r=c.setHours(r,0),r=c.setMinutes(r,0),r=c.setSeconds(r,0),r=c.setMilliseconds(r,0),r},we=(t,r,a,n)=>{let s=t?b(t):b();return(r||r===0)&&(s=c.setHours(s,+r)),(a||a===0)&&(s=c.setMinutes(s,+a)),(n||n===0)&&(s=c.setSeconds(s,+n)),c.setMilliseconds(s,0)},ye=(t,r)=>!t||!r?!1:c.isBefore(De(t),De(r)),oe=(t,r)=>!t||!r?!1:c.isEqual(De(t),De(r)),he=(t,r)=>!t||!r?!1:c.isAfter(De(t),De(r)),Bt=(t,r,a)=>t&&t[0]&&t[1]?he(a,t[0])&&ye(a,t[1]):t&&t[0]&&r?he(a,t[0])&&ye(a,r)||ye(a,t[0])&&he(a,r):!1,Ee=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Nt=()=>{const t=n=>{Ee.menuFocused=n},r=n=>{Ee.shiftKeyInMenu!==n&&(Ee.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Ee.shiftKeyInMenu,menuFocused:Ee.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ze={},Cn={get exports(){return ze},set exports(t){ze=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=r.default})(Cn,ze);const Mn=Je(ze);var xe={},Bn={get exports(){return xe},set exports(t){xe=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=r.default})(Bn,xe);const St=Je(xe);function Nn(t,r){var a=Pn(r);return a.formatToParts?_n(a,t):Tn(a,t)}var Sn={year:0,month:1,day:2,hour:3,minute:4,second:5};function _n(t,r){try{for(var a=t.formatToParts(r),n=[],s=0;s<a.length;s++){var f=Sn[a[s].type];f>=0&&(n[f]=parseInt(a[s].value,10))}return n}catch(k){if(k instanceof RangeError)return[NaN];throw k}}function Tn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Qe={};function Pn(t){if(!Qe[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Qe[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Qe[t]}function Fe(t,r,a,n,s,f,k){var $=new Date(0);return $.setUTCFullYear(t,r,a),$.setUTCHours(n,s,f,k),$}var _t=36e5,An=6e4,et={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function tt(t,r,a){var n,s;if(!t||(n=et.timezoneZ.exec(t),n))return 0;var f;if(n=et.timezoneHH.exec(t),n)return f=parseInt(n[1],10),Tt(f)?-(f*_t):NaN;if(n=et.timezoneHHMM.exec(t),n){f=parseInt(n[1],10);var k=parseInt(n[2],10);return Tt(f,k)?(s=Math.abs(f)*_t+k*An,f>0?-s:s):NaN}if(Rn(t)){r=new Date(r||Date.now());var $=a?r:Vn(r),V=nt($,t),P=a?V:En(r,V,t);return-P}return NaN}function Vn(t){return Fe(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function nt(t,r){var a=Nn(t,r),n=Fe(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),s=t.getTime(),f=s%1e3;return s-=f>=0?f:1e3+f,n-s}function En(t,r,a){var n=t.getTime(),s=n-r,f=nt(new Date(s),a);if(r===f)return r;s-=f-r;var k=nt(new Date(s),a);return f===k?f:Math.max(f,k)}function Tt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Pt={};function Rn(t){if(Pt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Pt[t]=!0,!0}catch{return!1}}var vn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const At=vn;var rt=36e5,Vt=6e4,On=2,pe={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:At};function at(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?On:Mn(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=In(t),f=Yn(s.date,n),k=f.year,$=f.restDateString,V=Ln($,k);if(isNaN(V))return new Date(NaN);if(V){var P=V.getTime(),O=0,N;if(s.time&&(O=zn(s.time),isNaN(O)))return new Date(NaN);if(s.timeZone||a.timeZone){if(N=tt(s.timeZone||a.timeZone,new Date(P+O)),isNaN(N))return new Date(NaN)}else N=St(new Date(P+O)),N=St(new Date(P+O+N));return new Date(P+O+N)}else return new Date(NaN)}function In(t){var r={},a=pe.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=pe.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var s=pe.timeZone.exec(n);s?(r.time=n.replace(s[1],""),r.timeZone=s[1].trim()):r.time=n}return r}function Yn(t,r){var a=pe.YYY[r],n=pe.YYYYY[r],s;if(s=pe.YYYY.exec(t)||n.exec(t),s){var f=s[1];return{year:parseInt(f,10),restDateString:t.slice(f.length)}}if(s=pe.YY.exec(t)||a.exec(t),s){var k=s[1];return{year:parseInt(k,10)*100,restDateString:t.slice(k.length)}}return{year:null}}function Ln(t,r){if(r===null)return null;var a,n,s,f;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=pe.MM.exec(t),a)return n=new Date(0),s=parseInt(a[1],10)-1,vt(r,s)?(n.setUTCFullYear(r,s),n):new Date(NaN);if(a=pe.DDD.exec(t),a){n=new Date(0);var k=parseInt(a[1],10);return Un(r,k)?(n.setUTCFullYear(r,0,k),n):new Date(NaN)}if(a=pe.MMDD.exec(t),a){n=new Date(0),s=parseInt(a[1],10)-1;var $=parseInt(a[2],10);return vt(r,s,$)?(n.setUTCFullYear(r,s,$),n):new Date(NaN)}if(a=pe.Www.exec(t),a)return f=parseInt(a[1],10)-1,Ot(r,f)?Et(r,f):new Date(NaN);if(a=pe.WwwD.exec(t),a){f=parseInt(a[1],10)-1;var V=parseInt(a[2],10)-1;return Ot(r,f,V)?Et(r,f,V):new Date(NaN)}return null}function zn(t){var r,a,n;if(r=pe.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),lt(a)?a%24*rt:NaN;if(r=pe.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),lt(a,n)?a%24*rt+n*Vt:NaN;if(r=pe.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var s=parseFloat(r[3].replace(",","."));return lt(a,n,s)?a%24*rt+n*Vt+s*1e3:NaN}return null}function Et(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,f=r*7+a+1-s;return n.setUTCDate(n.getUTCDate()+f),n}var xn=[31,28,31,30,31,30,31,31,30,31,30,31],Kn=[31,29,31,30,31,30,31,31,30,31,30,31];function Rt(t){return t%400===0||t%4===0&&t%100!==0}function vt(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Rt(t);if(n&&a>Kn[r]||!n&&a>xn[r])return!1}return!0}function Un(t,r){if(r<1)return!1;var a=Rt(t);return!(a&&r>366||!a&&r>365)}function Ot(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function lt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Ke={},Hn={get exports(){return Ke},set exports(t){Ke=t}},Ue={},Wn={get exports(){return Ue},set exports(t){Ue=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(n[f]=s[f]);return n}t.exports=r.default})(Wn,Ue),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var a=n(Ue);function n(f){return f&&f.__esModule?f:{default:f}}function s(f){return(0,a.default)({},f)}t.exports=r.default}(Hn,Ke);const jn=Je(Ke);function Gn(t,r,a){var n=at(t,a),s=tt(r,n,!0),f=new Date(n.getTime()-s),k=new Date(0);return k.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),k.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),k}function Zn(t,r,a){if(typeof t=="string"&&!t.match(At)){var n=jn(a);return n.timeZone=r,at(t,n)}var s=at(t,a),f=Fe(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),k=tt(r,new Date(f));return new Date(f+k)}const qn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},Xn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(f=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${f}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),s=a.slice(r+1,a.length);return[a[r]].concat(...s).concat(...n)},Jn=t=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:`${a}`});return r},Qn=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const f=s<10?`0${s}`:s;return new Date(`2017-${f}-01T00:00:00+00:00`)}).map((s,f)=>({text:a.format(s),value:f}))},Fn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ue=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},er=t=>Object.assign({type:"dot"},t),It=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,He={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},de=t=>t,Yt=t=>t===0?t:!t||isNaN(+t)?null:+t,Lt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),tr=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),nr=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,rr=(t,r,a)=>t||(typeof a=="string"?a:r),ar=t=>typeof t=="boolean"?t?Lt({}):!1:Lt(t),lr=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),or=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),ke=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(He.prop("partial-range"))},a=e.computed(()=>({ariaLabels:tr(t.ariaLabels),textInputOptions:Object.assign(lr(),t.textInputOptions),multiCalendars:nr(t.multiCalendars),previewFormat:rr(t.previewFormat,t.format,f()),filters:or(t.filters),transitions:ar(t.transitions),startTime:d()})),n=l=>{if(t.range)return l();throw new Error(He.prop("range"))},s=()=>{const l=t.enableSeconds?":ss":"";return t.is24?`HH:mm${l}`:`hh:mm${l} aa`},f=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?s():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${s()}`:"MM/dd/yyyy",k=(l,h)=>{if(typeof t.format=="function")return t.format(l);const y=h||f(),w=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(l)?`${c.format(l[0],y,w)} ${t.modelAuto&&!l[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${l[1]?c.format(l[1],y,w):""}`:c.format(l,y,w)},$=l=>t.timezone?Gn(l,t.timezone):l,V=l=>t.timezone?Zn(l,t.timezone):l,P=e.computed(()=>l=>{var h;return(h=t.hideNavigation)==null?void 0:h.includes(l)}),O=l=>{const h=t.maxDate?he($(l),$(b(t.maxDate))):!1,y=t.minDate?ye($(l),$(b(t.minDate))):!1,w=E(l,t.disabledDates),H=a.value.filters.months.map(ie=>+ie).includes(c.getMonth(l)),te=t.disabledWeekDays.length?t.disabledWeekDays.some(ie=>+ie===c.getDay(l)):!1,m=t.allowedDates.length?!t.allowedDates.some(ie=>oe($(b(ie)),$(l))):!1,o=c.getYear(l),G=o<+t.yearRange[0]||o>+t.yearRange[1];return!(h||y||w||H||G||te||m)},N=l=>{const h={hours:c.getHours(b()),minutes:c.getMinutes(b()),seconds:c.getSeconds(b())};return Object.assign(h,l)},d=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[N(t.startTime[0]),N(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?N(t.startTime):null,C=l=>!O(l),I=l=>Array.isArray(l)?c.isValid(l[0])&&(l[1]?c.isValid(l[1]):!0):l?c.isValid(l):!1,R=l=>l instanceof Date?l:c.parseISO(l),q=l=>{const h=c.startOfWeek($(l),{weekStartsOn:+t.weekStart}),y=c.endOfWeek($(l),{weekStartsOn:+t.weekStart});return[h,y]},E=(l,h)=>Array.isArray(h)?h.some(y=>oe($(b(y)),$(l))):h(l),v=(l,h,y)=>{let w=l?b(l):b();return(h||h===0)&&(w=c.setMonth(w,h)),y&&(w=c.setYear(w,y)),w},S=l=>c.set(b(),{hours:c.getHours(l),minutes:c.getMinutes(l),seconds:c.getSeconds(l)}),K=l=>c.set(b(),{hours:+l.hours||0,minutes:+l.minutes||0,seconds:+l.seconds||0}),Z=(l,h,y,w)=>{if(!l)return!0;if(w){const U=y==="max"?c.isBefore(l,h):c.isAfter(l,h),H={seconds:0,milliseconds:0};return U||c.isEqual(c.set(l,H),c.set(h,H))}return y==="max"?l.getTime()<=h.getTime():l.getTime()>=h.getTime()},ee=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=l=>Array.isArray(l)?[l[0]?S(l[0]):null,l[1]?S(l[1]):null]:S(l),p=l=>{const h=t.maxTime?K(t.maxTime):b(t.maxDate);return Array.isArray(l)?Z(l[0],h,"max",!!t.maxDate)&&Z(l[1],h,"max",!!t.maxDate):Z(l,h,"max",!!t.maxDate)},A=(l,h)=>{const y=t.minTime?K(t.minTime):b(t.minDate);return Array.isArray(l)?Z(l[0],y,"min",!!t.minDate)&&Z(l[1],y,"min",!!t.minDate)&&h:Z(l,y,"min",!!t.minDate)&&h},Y=l=>{let h=!0;if(!l||ee())return!0;const y=!t.minDate&&!t.maxDate?_(l):l;return(t.maxTime||t.maxDate)&&(h=p(de(y))),(t.minTime||t.minDate)&&(h=A(de(y),h)),h},T=(l,h)=>{const y=b(JSON.parse(JSON.stringify(l))),w=[];for(let U=0;U<7;U++){const H=c.addDays(y,U),te=c.getMonth(H)!==h;w.push({text:t.hideOffsetDates&&te?"":H.getDate(),value:H,current:!te,classData:{}})}return w},x=(l,h)=>{const y=[],w=b($(new Date(h,l))),U=b($(new Date(h,l+1,0))),H=c.startOfWeek(w,{weekStartsOn:t.weekStart}),te=m=>{const o=T(m,l);if(y.push({days:o}),!y[y.length-1].days.some(G=>oe(De(G.value),De(U)))){const G=c.addDays(m,7);te(G)}};if(te(H),t.sixWeeks&&y.length<6){const m=6-y.length;for(let o=1;o<=m;o++){const G=y[y.length-1],ie=G.days[G.days.length-1],se=T(c.addDays(ie.value,1),c.getMonth(w));y.push({days:se})}}return y},X=(l,h,y)=>[c.set(b(l),{date:1}),c.set(b(),{month:h,year:y,date:1})],j=(l,h)=>ye(...X(t.minDate,l,h))||oe(...X(t.minDate,l,h)),M=(l,h)=>he(...X(t.maxDate,l,h))||oe(...X(t.maxDate,l,h)),B=(l,h,y)=>{let w=!1;return t.maxDate&&y&&M(l,h)&&(w=!0),t.minDate&&!y&&j(l,h)&&(w=!0),w};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:$,getZonedToUtc:V,formatDate:k,getDefaultPattern:f,validateDate:O,getDefaultStartTime:d,isDisabled:C,isValidDate:I,sanitizeDate:R,getWeekFromDate:q,matchDate:E,setDateMonthOrYear:v,isValidTime:Y,getCalendarDays:x,validateMonthYearInRange:(l,h,y,w)=>{let U=!1;return w?t.minDate&&t.maxDate?U=B(l,h,y):(t.minDate&&j(l,h)||t.maxDate&&M(l,h))&&(U=!0):U=!0,U},validateMaxDate:M,validateMinDate:j,defaults:a,hideNavigationButtons:P}},le=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ot=e.ref(null),We=e.ref(!1),st=e.ref(!1),it=e.ref(!1),ct=e.ref(!1),ge=e.ref(0),fe=e.ref(0),Me=()=>{const t=e.computed(()=>We.value?[...le.selectionGrid,le.actionRow].filter(E=>E.length):st.value?[...le.timePicker[0],...le.timePicker[1],ct.value?[]:[ot.value],le.actionRow].filter(E=>E.length):it.value?[...le.monthPicker,le.actionRow]:[le.monthYear,...le.calendar,le.time,le.actionRow].filter(E=>E.length)),r=E=>{ge.value=E?ge.value+1:ge.value-1;let v=null;t.value[fe.value]&&(v=t.value[fe.value][ge.value]),v||(ge.value=E?ge.value-1:ge.value+1)},a=E=>{if(fe.value===0&&!E||fe.value===t.value.length&&E)return;fe.value=E?fe.value+1:fe.value-1,t.value[fe.value]?t.value[fe.value]&&!t.value[fe.value][ge.value]&&ge.value!==0&&(ge.value=t.value[fe.value].length-1):fe.value=E?fe.value-1:fe.value+1},n=E=>{let v=null;t.value[fe.value]&&(v=t.value[fe.value][ge.value]),v?v.focus({preventScroll:!We.value}):ge.value=E?ge.value-1:ge.value+1},s=()=>{r(!0),n(!0)},f=()=>{r(!1),n(!1)},k=()=>{a(!1),n(!0)},$=()=>{a(!0),n(!0)},V=(E,v)=>{le[v]=E},P=(E,v)=>{le[v]=E},O=()=>{ge.value=0,fe.value=0};return{buildMatrix:V,buildMultiLevelMatrix:P,setTimePickerBackRef:E=>{ot.value=E},setSelectionGrid:E=>{We.value=E,O(),E||(le.selectionGrid=[])},setTimePicker:(E,v=!1)=>{st.value=E,ct.value=v,O(),E||(le.timePicker[0]=[],le.timePicker[1]=[])},setTimePickerElements:(E,v=0)=>{le.timePicker[v]=E},arrowRight:s,arrowLeft:f,arrowUp:k,arrowDown:$,clearArrowNav:()=>{le.monthYear=[],le.calendar=[],le.time=[],le.actionRow=[],le.selectionGrid=[],le.timePicker[0]=[],le.timePicker[1]=[],We.value=!1,st.value=!1,ct.value=!1,it.value=!1,O(),ot.value=null},setMonthPicker:E=>{it.value=E,O()},refSets:le}},zt=t=>Array.isArray(t),_e=t=>Array.isArray(t),xt=t=>Array.isArray(t)&&t.length===2,sr=(t,r,a,n,s)=>{const{getDefaultStartTime:f,isDisabled:k,sanitizeDate:$,getWeekFromDate:V,setDateMonthOrYear:P,validateMonthYearInRange:O,defaults:N}=ke(t),d=e.computed({get:()=>t.internalModelValue,set:i=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",i)}}),C=e.ref([]);e.watch(d,()=>{t.multiCalendars||Z()});const I=e.ref([{month:c.getMonth(b()),year:c.getYear(b())}]),R=e.reactive({hours:t.range?[c.getHours(b()),c.getHours(b())]:c.getHours(b()),minutes:t.range?[c.getMinutes(b()),c.getMinutes(b())]:c.getMinutes(b()),seconds:t.range?[0,0]:0}),q=e.computed(()=>i=>I.value[i]?I.value[i].month:0),E=e.computed(()=>i=>I.value[i]?I.value[i].year:0),v=e.computed(()=>t.flow&&t.flow.length?s.value===t.flow.length:!0),S=(i,D,L)=>{var J,g;I.value[i]||(I.value[i]={month:0,year:0}),I.value[i].month=D===null?(J=I.value[i])==null?void 0:J.month:D,I.value[i].year=L===null?(g=I.value[i])==null?void 0:g.year:L},K=(i,D)=>{R[i]=D};e.onMounted(()=>{d.value||(t.startDate&&(S(0,c.getMonth(b(t.startDate)),c.getYear(b(t.startDate))),N.value.multiCalendars&&Oe(0)),N.value.startTime&&M()),Z(!0)});const Z=(i=!1)=>{if(d.value)return Array.isArray(d.value)?(C.value=d.value,Y(i)):_(d.value);if(t.timePicker)return T();if(t.monthPicker&&!t.range)return x();if(t.yearPicker&&!t.range)return X();if(N.value.multiCalendars&&i&&!t.startDate)return ee(b(),i)},ee=(i,D=!1)=>{if((!N.value.multiCalendars||!t.multiStatic||D)&&S(0,c.getMonth(i),c.getYear(i)),N.value.multiCalendars)for(let L=1;L<N.value.multiCalendars;L++){const J=c.set(b(),{month:q.value(L-1),year:E.value(L-1)}),g=c.add(J,{months:1});I.value[L]={month:c.getMonth(g),year:c.getYear(g)}}},_=i=>{ee(i),K("hours",c.getHours(i)),K("minutes",c.getMinutes(i)),K("seconds",c.getSeconds(i))},p=(i,D)=>{ee(i[0],D);const L=(J,g)=>[J(i[0]),i[1]?J(i[1]):R[g][1]];K("hours",L(c.getHours,"hours")),K("minutes",L(c.getMinutes,"minutes")),K("seconds",L(c.getSeconds,"seconds"))},A=(i,D)=>{if((t.range||t.weekPicker)&&!t.multiDates)return p(i,D);if(t.multiDates){const L=i[i.length-1];return _(L)}},Y=i=>{const D=d.value;A(D,i),N.value.multiCalendars&&t.multiCalendarsSolo&&u()},T=()=>{if(M(),!t.range)d.value=we(b(),R.hours,R.minutes,j());else{const i=R.hours,D=R.minutes;d.value=[we(b(),i[0],D[0],j()),we(b(),i[1],D[1],j(!1))]}},x=()=>{d.value=P(b(),q.value(0),E.value(0))},X=()=>{d.value=b()},j=(i=!0)=>t.enableSeconds?Array.isArray(R.seconds)?i?R.seconds[0]:R.seconds[1]:R.seconds:0,M=()=>{const i=f();if(i){const D=Array.isArray(i),L=D?[+i[0].hours,+i[1].hours]:+i.hours,J=D?[+i[0].minutes,+i[1].minutes]:+i.minutes,g=D?[+i[0].seconds,+i[1].seconds]:+i.seconds;K("hours",L),K("minutes",J),t.enableSeconds&&K("seconds",g)}},B=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null,u=()=>{if(Array.isArray(d.value)&&d.value.length===2){const i=b(b(d.value[1]?d.value[1]:c.addMonths(d.value[0],1))),[D,L]=[c.getMonth(d.value[0]),c.getYear(d.value[0])],[J,g]=[c.getMonth(d.value[1]),c.getYear(d.value[1])];(D!==J||D===J&&L!==g)&&t.multiCalendarsSolo&&S(1,c.getMonth(i),c.getYear(i))}},l=i=>{const D=c.addMonths(i,1);return{month:c.getMonth(D),year:c.getYear(D)}},h=i=>{const D=c.getMonth(b(i)),L=c.getYear(b(i));if(S(0,D,L),N.value.multiCalendars>0)for(let J=1;J<N.value.multiCalendars;J++){const g=l(c.set(b(i),{year:q.value(J-1),month:E.value(J-1)}));S(J,g.month,g.year)}},y=i=>{if(d.value&&Array.isArray(d.value))if(d.value.some(D=>oe(i,D))){const D=d.value.filter(L=>!oe(L,i));d.value=D.length?D:null}else(t.multiDatesLimit&&+t.multiDatesLimit>d.value.length||!t.multiDatesLimit)&&d.value.push(i);else d.value=[i]},w=(i,D)=>{const L=he(i,D)?D:i,J=he(D,i)?D:i;return c.eachDayOfInterval({start:L,end:J})},U=i=>{if(Array.isArray(d.value)&&d.value[0]){const D=c.differenceInCalendarDays(i,d.value[0]),L=w(d.value[0],i),J=L.length===1?0:L.filter(z=>k(z)).length,g=Math.abs(D)-J;if(t.minRange&&t.maxRange)return g>=+t.minRange&&g<=+t.maxRange;if(t.minRange)return g>=+t.minRange;if(t.maxRange)return g<=+t.maxRange}return!0},H=i=>Array.isArray(d.value)&&d.value.length===2?t.fixedStart&&(he(i,d.value[0])||oe(i,d.value[0]))?[d.value[0],i]:t.fixedEnd&&(ye(i,d.value[1])||oe(i,d.value[1]))?[i,d.value[1]]:(r("invalid-fixed-range",i),d.value):[],te=()=>{t.autoApply&&v.value&&r("auto-apply")},m=()=>{t.autoApply&&r("select-date")},o=i=>!c.eachDayOfInterval({start:i[0],end:i[1]}).some(L=>k(L)),G=i=>(d.value=V(b(i.value)),te()),ie=i=>{const D=we(b(i.value),R.hours,R.minutes,j());t.multiDates?y(D):d.value=D,a(),te()},se=()=>{C.value=d.value?d.value.slice():[],C.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(C.value=[])},$e=(i,D)=>{const L=[b(i.value),c.addDays(b(i.value),+t.autoRange)];o(L)&&(D&&h(i.value),C.value=L)},Ne=i=>{Q(i.value)||(C.value=H(b(i.value)))},Q=i=>t.noDisabledRange?w(C.value[0],i).some(L=>k(L)):!1,F=(i,D)=>{if(se(),t.autoRange)return $e(i,D);if(t.fixedStart||t.fixedEnd)return Ne(i);C.value[0]?U(b(i.value))&&!Q(i.value)&&(ye(b(i.value),b(C.value[0]))?C.value.unshift(b(i.value)):C.value[1]=b(i.value)):C.value[0]=b(i.value)},ae=i=>{C.value[i]=we(C.value[i],R.hours[i],R.minutes[i],j(i!==1))},re=()=>{C.value.length&&(C.value[0]&&!C.value[1]?ae(0):(ae(0),ae(1),a()),d.value=C.value.slice(),C.value[0]&&C.value[1]&&t.autoApply&&r("auto-apply"),C.value[0]&&!C.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},ve=(i,D=!1)=>{if(!(k(i.value)||!i.current&&t.hideOffsetDates)){if(t.weekPicker)return G(i);if(!t.range)return ie(i);_e(R.hours)&&_e(R.minutes)&&!t.multiDates&&(F(i,D),re())}},Ce=i=>{const D=i.find(L=>L.current);return D?c.getISOWeek(D.value):""},Oe=i=>{for(let D=i-1;D>=0;D--){const L=c.subMonths(c.set(b(),{month:q.value(D+1),year:E.value(D+1)}),1);S(D,c.getMonth(L),c.getYear(L))}for(let D=i+1;D<=N.value.multiCalendars-1;D++){const L=c.addMonths(c.set(b(),{month:q.value(D-1),year:E.value(D-1)}),1);S(D,c.getMonth(L),c.getYear(L))}},Pe=i=>P(b(),q.value(i),E.value(i)),Ie=i=>we(i,R.hours,R.minutes,j()),mt=(i,D)=>{const L=t.monthPicker?q.value(i)!==D.month||!D.fromNav:E.value(i)!==D.year;if(S(i,D.month,D.year),N.value.multiCalendars&&!t.multiCalendarsSolo&&Oe(i),t.monthPicker||t.yearPicker)if(t.range){if(L){let J=d.value?d.value.slice():[];J.length===2&&J[1]!==null&&(J=[]),J.length?ye(Pe(i),J[0])?J.unshift(Pe(i)):J[1]=Pe(i):J=[Pe(i)],d.value=J}}else d.value=Pe(i);r("update-month-year",{instance:i,month:D.month,year:D.year}),n(t.multiCalendarsSolo?i:void 0)},yt=async(i=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const D=t.monthPicker?i:!1;t.range?r("auto-apply",D||!d.value||d.value.length===1):r("auto-apply",D)}a()},Ze=(i,D)=>{const L=c.set(b(),{month:q.value(D),year:E.value(D)}),J=i<0?c.addMonths(L,1):c.subMonths(L,1);O(c.getMonth(J),c.getYear(J),i<0,t.preventMinMaxNavigation)&&(S(D,c.getMonth(J),c.getYear(J)),N.value.multiCalendars&&!t.multiCalendarsSolo&&Oe(D),r("update-month-year",{instance:D,month:c.getMonth(J),year:c.getYear(J)}),n())},Ye=i=>{zt(i)&&zt(d.value)&&_e(R.hours)&&_e(R.minutes)?(i[0]&&d.value[0]&&(d.value[0]=we(i[0],R.hours[0],R.minutes[0],j())),i[1]&&d.value[1]&&(d.value[1]=we(i[1],R.hours[1],R.minutes[1],j(!1)))):t.multiDates&&Array.isArray(d.value)?d.value[d.value.length-1]=Ie(i):!t.range&&!xt(i)&&(d.value=Ie(i)),r("time-update")},ht=(i,D=!0,L=!1)=>{const J=D?i:R.hours,g=!D&&!L?i:R.minutes,z=L?i:R.seconds;if(t.range&&xt(d.value)&&_e(J)&&_e(g)&&_e(z)&&!t.disableTimeRangeValidation){const ce=be=>we(d.value[be],J[be],g[be],z[be]),me=be=>c.setMilliseconds(d.value[be],0);if(oe(d.value[0],d.value[1])&&(c.isAfter(ce(0),me(1))||c.isBefore(ce(1),me(0))))return}if(K("hours",J),K("minutes",g),K("seconds",z),d.value)if(t.multiDates){const ce=B();ce&&Ye(ce)}else Ye(d.value);else t.timePicker&&Ye(t.range?[b(),b()]:b());a()},pt=(i,D)=>{t.monthChangeOnScroll&&Ze(t.monthChangeOnScroll!=="inverse"?-i.deltaY:i.deltaY,D)},gt=(i,D,L=!1)=>{t.monthChangeOnArrows&&t.vertical===L&&qe(i,D)},qe=(i,D)=>{Ze(i==="right"?-1:1,D)};return{time:R,month:q,year:E,modelValue:d,calendars:I,monthYearSelect:yt,isDisabled:k,updateTime:ht,getWeekNum:Ce,selectDate:ve,updateMonthYear:mt,handleScroll:pt,getMarker:i=>t.markers.find(D=>oe($(i.value),$(D.date))),handleArrow:gt,handleSwipe:qe,selectCurrentDate:()=>{t.range?d.value&&Array.isArray(d.value)&&d.value[0]?d.value=ye(b(),d.value[0])?[b(),d.value[0]]:[d.value[0],b()]:d.value=[b()]:d.value=b(),m()},presetDateRange:(i,D)=>{D||i.length&&i.length<=2&&t.range&&(d.value=i.map(L=>b(L)),m(),t.multiCalendars&&e.nextTick().then(()=>Z(!0)))}}},ir=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:s,getZonedDate:f,formatDate:k,getDefaultPattern:$,checkRangeEnabled:V,checkPartialRangeValue:P,isValidDate:O,setDateMonthOrYear:N,defaults:d}=ke(r),C=e.ref(""),I=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(I,()=>{l()});const R=o=>{const G=o||b();return r.modelType?y(G):{hours:c.getHours(G),minutes:c.getMinutes(G),seconds:r.enableSeconds?c.getSeconds(G):0}},q=o=>r.modelType?y(o):{month:c.getMonth(o),year:c.getYear(o)},E=o=>Array.isArray(o)?V(()=>[c.setYear(b(),o[0]),o[1]?c.setYear(b(),o[1]):P()]):c.setYear(b(),+o),v=(o,G)=>(typeof o=="string"||typeof o=="number")&&r.modelType?h(o):G,S=o=>Array.isArray(o)?[v(o[0],we(null,+o[0].hours,+o[0].minutes,o[0].seconds)),v(o[1],we(null,+o[1].hours,+o[1].minutes,o[1].seconds))]:v(o,we(null,o.hours,o.minutes,o.seconds)),K=o=>Array.isArray(o)?V(()=>[v(o[0],N(null,+o[0].month,+o[0].year)),v(o[1],o[1]?N(null,+o[1].month,+o[1].year):P())]):v(o,N(null,+o.month,+o.year)),Z=o=>{if(Array.isArray(o))return o.map(G=>h(G));throw new Error(He.dateArr("multi-dates"))},ee=o=>{if(Array.isArray(o))return[b(o[0]),b(o[1])];throw new Error(He.dateArr("week-picker"))},_=o=>r.modelAuto?Array.isArray(o)?[h(o[0]),h(o[1])]:r.autoApply?[h(o)]:[h(o),null]:Array.isArray(o)?V(()=>[h(o[0]),o[1]?h(o[1]):P()]):h(o),p=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(P())},A=()=>{const o=n.value;return[y(o[0]),o[1]?y(o[1]):P()]},Y=()=>n.value[1]?A():y(de(n.value[0])),T=()=>(n.value||[]).map(o=>y(o)),x=()=>(p(),r.modelAuto?Y():r.multiDates?T():Array.isArray(n.value)?V(()=>A()):y(de(n.value))),X=o=>o?r.timePicker?S(de(o)):r.monthPicker?K(de(o)):r.yearPicker?E(de(o)):r.multiDates?Z(de(o)):r.weekPicker?ee(de(o)):_(de(o)):null,j=o=>{const G=X(o);O(de(G))?(n.value=de(G),l()):(n.value=null,C.value="")},M=()=>{var G;const o=ie=>{var se;return c.format(ie,(se=d.value.textInputOptions)==null?void 0:se.format)};return`${o(n.value[0])} ${(G=d.value.textInputOptions)==null?void 0:G.rangeSeparator} ${n.value[1]?o(n.value[1]):""}`},B=()=>{var o;return a.value&&n.value?Array.isArray(n.value)?M():c.format(n.value,(o=d.value.textInputOptions)==null?void 0:o.format):k(n.value)},u=()=>{var o;return n.value?r.multiDates?n.value.map(G=>k(G)).join("; "):r.textInput&&typeof((o=d.value.textInputOptions)==null?void 0:o.format)=="string"?B():k(n.value):""},l=()=>{!r.format||typeof r.format=="string"?C.value=u():C.value=r.format(n.value)},h=o=>{if(r.utc){const G=new Date(o);return r.utc==="preserve"?new Date(G.getTime()+G.getTimezoneOffset()*6e4):G}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?f(new Date(o)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?c.parse(o,$(),new Date):f(c.parse(o,r.modelType,new Date)):f(new Date(o))},y=o=>r.utc?$n(o,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+s(o):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?k(s(o)):k(s(o),r.modelType):s(o),w=o=>{t("update:model-value",o)},U=o=>Array.isArray(n.value)?[o(n.value[0]),n.value[1]?o(n.value[1]):P()]:o(de(n.value)),H=o=>w(de(U(o)));return{inputValue:C,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:j,formatInputValue:l,emitModelValue:()=>(l(),r.monthPicker?H(q):r.timePicker?H(R):r.yearPicker?H(c.getYear):r.weekPicker?w(n.value):w(x()))}},cr=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:s,defaults:f}=ke(t),k=(N,d)=>{let C=N;return f.value.filters.months.includes(c.getMonth(C))?(C=d?c.addMonths(N,1):c.subMonths(N,1),k(C,d)):C},$=(N,d)=>{let C=N;return f.value.filters.years.includes(c.getYear(C))?(C=d?c.addYears(N,1):c.subYears(N,1),$(C,d)):C},V=N=>{const d=c.set(new Date,{month:t.month,year:t.year});let C=N?c.addMonths(d,1):c.subMonths(d,1),I=c.getMonth(C),R=c.getYear(C);f.value.filters.months.includes(I)&&(C=k(C,N),I=c.getMonth(C),R=c.getYear(C)),f.value.filters.years.includes(R)&&(C=$(C,N),R=c.getYear(C)),a(I,R,N,t.preventMinMaxNavigation)&&P(I,R)},P=(N,d)=>{r("update-month-year",{month:N,year:d})},O=e.computed(()=>N=>{if(!t.preventMinMaxNavigation||N&&!t.maxDate||!N&&!t.minDate)return!1;const d=c.set(new Date,{month:t.month,year:t.year}),C=N?c.addMonths(d,1):c.subMonths(d,1),I=[c.getMonth(C),c.getYear(C)];return N?!n(...I):!s(...I)});return{handleMonthYearChange:V,isDisabled:O,updateMonthYear:P}};var je=(t=>(t.center="center",t.left="left",t.right="right",t))(je||{});const ur=(t,r,a,n)=>{const s=e.ref({top:"0",left:"0",transform:"none"}),f=e.ref(!1),k=e.toRef(n,"teleportCenter");e.watch(k,()=>{q()});const $=_=>{const p=_.getBoundingClientRect();return{left:p.left+window.scrollX,top:p.top+window.scrollY}},V=_=>{const p=_.getBoundingClientRect();let A=0,Y=0;for(;_&&!isNaN(_.offsetLeft)&&!isNaN(_.offsetTop);)A+=_.offsetLeft-_.scrollLeft,Y=p.top+_.scrollTop,_=_.offsetParent;return{top:Y,left:A}},P=(_,p)=>{s.value.left=`${_+p}px`,s.value.transform="translateX(-100%)"},O=_=>{s.value.left=`${_}px`,s.value.transform="translateX(0)"},N=(_,p,A=!1)=>{n.position===je.left&&O(_),n.position===je.right&&P(_,p),n.position===je.center&&(s.value.left=`${_+p/2}px`,s.value.transform=A?"translate(-50%, -50%)":"translateX(-50%)")},d=_=>{const{width:p,height:A}=_.getBoundingClientRect(),{top:Y,left:T}=n.altPosition?V(_):$(_);return{top:Y,left:T,width:p,height:A}},C=()=>{const _=ue(r);if(_){const{top:p,left:A,width:Y,height:T}=d(_);s.value.top=`${p+T/2}px`,s.value.transform="translateY(-50%)",N(A,Y,!0)}},I=()=>{s.value.left="50%",s.value.top="50%",s.value.transform="translate(-50%, -50%)",s.value.position="fixed"},R=()=>{const _=ue(r);s.value=n.altPosition(_)},q=(_=!0)=>{if(!n.inline)return k.value?I():n.altPosition&&typeof n.altPosition!="boolean"?R():(_&&a("recalculate-position"),ee())},E=({inputEl:_,menuEl:p,left:A,width:Y})=>{window.screen.width>768&&N(A,Y),K(_,p)},v=(_,p)=>{const{top:A,left:Y,height:T,width:x}=d(_);s.value.top=`${T+A+ +n.offset}px`,E({inputEl:_,menuEl:p,left:Y,width:x}),f.value=!1},S=(_,p)=>{const{top:A,left:Y,width:T}=d(_),{height:x}=p.getBoundingClientRect();s.value.top=`${A-x-+n.offset}px`,E({inputEl:_,menuEl:p,left:Y,width:T}),f.value=!0},K=(_,p)=>{if(n.autoPosition){const{left:A,width:Y}=d(_),{left:T,right:x}=p.getBoundingClientRect();if(T<0)return O(A);if(x>document.documentElement.clientWidth)return P(A,Y)}},Z=(_,p)=>{const{height:A}=p.getBoundingClientRect(),{top:Y,height:T}=_.getBoundingClientRect(),X=window.innerHeight-Y-T,j=Y;return A<=X?v(_,p):A>X&&A<=j?S(_,p):X>=j?v(_,p):S(_,p)},ee=()=>{const _=ue(r),p=ue(t);if(_&&p)return n.autoPosition?Z(_,p):v(_,p)};return{openOnTop:f,menuPosition:s,setMenuPosition:q,setInitialPosition:C}},Ae=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],dr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],fr={all:()=>Ae,monthYear:()=>Ae.filter(t=>t.use.includes("month-year")),input:()=>dr,timePicker:()=>Ae.filter(t=>t.use.includes("time")),action:()=>Ae.filter(t=>t.use.includes("action")),calendar:()=>Ae.filter(t=>t.use.includes("calendar")),menu:()=>Ae.filter(t=>t.use.includes("menu"))},Te=(t,r,a)=>{const n=[];return fr[r]().forEach(s=>{t[s.name]&&n.push(s.name)}),a&&a.length&&a.forEach(s=>{s.slot&&n.push(s.slot)}),n},Ge=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),Be={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},mr=["aria-label","aria-disabled","aria-readonly"],yr={key:1,class:"dp__input_wrap"},hr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],pr={key:2,class:"dp__input_icon"},gr={key:4,class:"dp__clear_icon"},kr=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Be},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:s,isValidDate:f,defaults:k}=ke(n),$=e.ref(),V=e.ref(null),P=e.ref(!1),O=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:P.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),N=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),$.value=null)},d=p=>{var A;return Dn(p,((A=k.value.textInputOptions)==null?void 0:A.format)||s())},C=p=>{const{rangeSeparator:A}=k.value.textInputOptions,[Y,T]=p.split(`${A}`);if(Y){const x=d(Y.trim()),X=T?d(T.trim()):null,j=x&&X?[x,X]:[x];$.value=x?j:null}},I=p=>{if(n.range)C(p);else if(n.multiDates){const A=p.split(";");$.value=A.map(Y=>d(Y.trim())).filter(Y=>Y)}else $.value=d(p)},R=p=>{var Y;const{value:A}=p.target;A!==""?((Y=k.value.textInputOptions)!=null&&Y.openMenu&&!n.isMenuOpen&&a("open"),I(A),a("set-input-date",$.value)):N(),a("update:input-value",A)},q=()=>{var p,A;(p=k.value.textInputOptions)!=null&&p.enterSubmit&&f($.value)&&n.inputValue!==""?(a("set-input-date",$.value,!0),$.value=null):(A=k.value.textInputOptions)!=null&&A.enterSubmit&&n.inputValue===""&&($.value=null,a("clear"))},E=()=>{var p,A;(p=k.value.textInputOptions)!=null&&p.tabSubmit&&f($.value)&&n.inputValue!==""?(a("set-input-date",$.value,!0),$.value=null):(A=k.value.textInputOptions)!=null&&A.tabSubmit&&n.inputValue===""&&($.value=null,a("clear"))},v=()=>{P.value=!0,a("focus")},S=p=>{var A;p.preventDefault(),p.stopImmediatePropagation(),p.stopPropagation(),n.textInput&&((A=k.value.textInputOptions)!=null&&A.openMenu)&&!n.inlineWithInput?n.isMenuOpen?k.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},K=()=>{P.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&$.value&&(a("set-input-date",$.value),a("select-date"),$.value=null)},Z=()=>{a("clear")},ee=p=>{n.textInput||p.preventDefault()};return r({focusInput:()=>{V.value&&V.value.focus({preventScroll:!0})}}),(p,A)=>{var Y;return e.openBlock(),e.createElementBlock("div",{onClick:S,"aria-label":(Y=e.unref(k).ariaLabels)==null?void 0:Y.input,role:"textbox","aria-multiline":"false","aria-disabled":p.disabled,"aria-readonly":p.readonly},[p.$slots.trigger&&!p.$slots["dp-input"]&&!p.inline?e.renderSlot(p.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!p.$slots.trigger&&(!p.inline||p.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",yr,[p.$slots["dp-input"]&&!p.$slots.trigger&&!p.inline?e.renderSlot(p.$slots,"dp-input",{key:0,value:t.inputValue,onInput:R,onEnter:q,onTab:E,onClear:Z}):e.createCommentVNode("",!0),p.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:V,id:p.uid?`dp-input-${p.uid}`:void 0,name:p.name,class:e.normalizeClass(e.unref(O)),inputmode:p.textInput?"text":"none",placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,required:p.required,value:t.inputValue,autocomplete:p.autocomplete,onInput:R,onKeydown:[e.withKeys(S,["enter"]),e.withKeys(E,["tab"])],onBlur:K,onFocus:v,onKeypress:ee},null,42,hr)),p.$slots["input-icon"]&&!p.hideInputIcon?(e.openBlock(),e.createElementBlock("span",pr,[e.renderSlot(p.$slots,"input-icon")])):e.createCommentVNode("",!0),!p.$slots["input-icon"]&&!p.hideInputIcon&&!p.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),p.$slots["clear-icon"]&&t.inputValue&&p.clearable&&!p.disabled&&!p.readonly?(e.openBlock(),e.createElementBlock("span",gr,[e.renderSlot(p.$slots,"clear-icon",{clear:Z})])):e.createCommentVNode("",!0),p.clearable&&!p.$slots["clear-icon"]&&t.inputValue&&!p.disabled&&!p.readonly?(e.openBlock(),e.createBlock(e.unref(Ft),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(Z,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,mr)}}}),wr={class:"dp__selection_preview"},br={class:"dp__action_buttons"},Dr=["onKeydown"],$r=e.defineComponent({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:s,defaults:f}=ke(a),{buildMatrix:k}=Me(),$=e.ref(null),V=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&k([ue($),ue(V)],"actionRow")});const P=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),O=e.computed(()=>!d.value||!C.value||!P.value),N=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:O.value})),d=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:s(a.internalModelValue)),C=e.computed(()=>a.monthPicker?E(a.internalModelValue):!0),I=()=>{const S=f.value.previewFormat;return a.timePicker||a.monthPicker,S(de(a.internalModelValue))},R=()=>{const S=a.internalModelValue;return f.value.multiCalendars>0?`${n(S[0])} - ${n(S[1])}`:[n(S[0]),n(S[1])]},q=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof f.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?R():a.multiDates?a.internalModelValue.map(S=>`${n(S)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):I()),E=S=>{if(!a.monthPicker)return!0;let K=!0;return a.minDate&&a.maxDate?he(b(S),b(a.minDate))&&ye(b(S),b(a.maxDate)):(a.minDate&&(K=he(b(S),b(a.minDate))),a.maxDate&&(K=ye(b(S),b(a.maxDate))),K)},v=()=>{d.value&&C.value&&P.value?r("select-date"):r("invalid-select")};return(S,K)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[S.$slots["action-row"]?e.renderSlot(S.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(O),selectDate:()=>S.$emit("select-date"),closePicker:()=>S.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",wr,[S.$slots["action-preview"]?e.renderSlot(S.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),S.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(q))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(q)),1)],64)),Array.isArray(e.unref(q))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(q),(Z,ee)=>(e.openBlock(),e.createElementBlock("div",{key:ee},e.toDisplayString(Z),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",br,[S.$slots["action-select"]?e.renderSlot(S.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),S.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[S.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:$,tabindex:"0",onClick:K[0]||(K[0]=Z=>S.$emit("close-picker")),onKeydown:[K[1]||(K[1]=e.withKeys(Z=>S.$emit("close-picker"),["enter"])),K[2]||(K[2]=e.withKeys(Z=>S.$emit("close-picker"),["space"]))]},e.toDisplayString(S.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(N)),tabindex:"0",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,"data-test":"select-button",ref_key:"selectButtonRef",ref:V},e.toDisplayString(S.selectText),43,Dr)],64))])],64))],4))}}),Cr=["aria-label"],Mr={class:"dp__calendar_header",role:"row"},Br={key:0,class:"dp__calendar_header_item",role:"gridcell"},Nr=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Sr=["aria-label"],_r={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Tr={class:"dp__cell_inner"},Pr=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],Ar=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),Vr=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Be},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:s}=Me(),{setDateMonthOrYear:f,defaults:k}=ke(n),$=e.ref(null),V=e.ref({bottom:"",left:"",transform:""}),P=e.ref([]),O=e.ref(null),N=e.ref(!0),d=e.ref(""),C=e.ref({startX:0,endX:0,startY:0,endY:0}),I=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Xn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:P}),n.noSwipe||O.value&&(O.value.addEventListener("touchstart",A,{passive:!1}),O.value.addEventListener("touchend",Y,{passive:!1}),O.value.addEventListener("touchmove",T,{passive:!1})),n.monthChangeOnScroll&&O.value&&O.value.addEventListener("wheel",j,{passive:!1})});const R=M=>M?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",q=(M,B)=>{if(n.transitions){const u=De(f(b(),n.month,n.year));d.value=he(De(f(b(),M,B)),u)?k.value.transitions[R(!0)]:k.value.transitions[R(!1)],N.value=!1,e.nextTick(()=>{N.value=!0})}},E=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),v=e.computed(()=>M=>{const B=er(M);return{dp__marker_dot:B.type==="dot",dp__marker_line:B.type==="line"}}),S=e.computed(()=>M=>oe(M,$.value)),K=e.computed(()=>({dp__calendar:!0,dp__calendar_next:k.value.multiCalendars>0&&n.instance!==0})),Z=e.computed(()=>M=>n.hideOffsetDates?M.current:!0),ee=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),_=(M,B,u)=>{var l,h;if(a("set-hover-date",M),(h=(l=M.marker)==null?void 0:l.tooltip)!=null&&h.length){const y=ue(P.value[B][u]);if(y){const{width:w,height:U}=y.getBoundingClientRect();V.value={bottom:`${U}px`,left:`${w/2}px`,transform:"translateX(-50%)"},$.value=M.value,a("tooltip-open",M.value)}}},p=M=>{$.value&&($.value=null,a("tooltip-close",M.value))},A=M=>{C.value.startX=M.changedTouches[0].screenX,C.value.startY=M.changedTouches[0].screenY},Y=M=>{C.value.endX=M.changedTouches[0].screenX,C.value.endY=M.changedTouches[0].screenY,x()},T=M=>{n.vertical&&!n.inline&&M.preventDefault()},x=()=>{const M=n.vertical?"Y":"X";Math.abs(C.value[`start${M}`]-C.value[`end${M}`])>10&&a("handle-swipe",C.value[`start${M}`]>C.value[`end${M}`]?"right":"left")},X=(M,B,u)=>{M&&(Array.isArray(P.value[B])?P.value[B][u]=M:P.value[B]=[M]),n.arrowNavigation&&s(P.value,"calendar")},j=M=>{n.monthChangeOnScroll&&(M.preventDefault(),a("handle-scroll",M))};return r({triggerTransition:q}),(M,B)=>{var u;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(K))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(ee))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:O,class:e.normalizeClass(e.unref(E)),role:"grid","aria-label":(u=e.unref(k).ariaLabels)==null?void 0:u.calendarWrap},[e.createElementVNode("div",Mr,[M.weekNumbers?(e.openBlock(),e.createElementBlock("div",Br,e.toDisplayString(M.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(I),(l,h)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:h,"data-test":"calendar-header"},[M.$slots["calendar-header"]?e.renderSlot(M.$slots,"calendar-header",{key:0,day:l,index:h}):e.createCommentVNode("",!0),M.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l),1)],64))]))),128))]),Nr,e.createVNode(e.Transition,{name:d.value,css:!!M.transitions},{default:e.withCtx(()=>{var l;return[N.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(h,y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:y},[M.weekNumbers?(e.openBlock(),e.createElementBlock("div",_r,[e.createElementVNode("div",Tr,e.toDisplayString(t.getWeekNum(h.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.days,(w,U)=>{var H,te,m;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:o=>X(o,y,U),key:U+y,"aria-selected":w.classData.dp__active_date||w.classData.dp__range_start||w.classData.dp__range_start,"aria-disabled":w.classData.dp__cell_disabled,"aria-label":(te=(H=e.unref(k).ariaLabels)==null?void 0:H.day)==null?void 0:te.call(H,w),tabindex:"0","data-test":w.value,onClick:e.withModifiers(o=>M.$emit("select-date",w),["stop","prevent"]),onKeydown:[e.withKeys(o=>M.$emit("select-date",w),["enter"]),e.withKeys(o=>M.$emit("handle-space",w),["space"])],onMouseenter:o=>_(w,y,U),onMouseleave:o=>p(w)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",w.classData])},[M.$slots.day&&e.unref(Z)(w)?e.renderSlot(M.$slots,"day",{key:0,day:+w.text,date:w.value}):e.createCommentVNode("",!0),M.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.text),1)],64)),w.marker&&e.unref(Z)(w)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(v)(w.marker)),style:e.normalizeStyle(w.marker.color?{backgroundColor:w.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(S)(w.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(V.value)},[(m=w.marker)!=null&&m.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:B[0]||(B[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.marker.tooltip,(o,G)=>(e.openBlock(),e.createElementBlock("div",{key:G,class:"dp__tooltip_text"},[M.$slots["marker-tooltip"]?e.renderSlot(M.$slots,"marker-tooltip",{key:0,tooltip:o,day:w.value}):e.createCommentVNode("",!0),M.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(o.color?{backgroundColor:o.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(o.text),1)],64))]))),128)),Ar])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Pr)}),128))]))),128))],8,Sr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Cr))],4)],2)}}}),Er=["aria-label","aria-disabled"],ut=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,s)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:s[0]||(s[0]=f=>n.$emit("activate")),onKeydown:[s[1]||(s[1]=e.withKeys(f=>n.$emit("activate"),["enter"])),s[2]||(s[2]=e.withKeys(f=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Er))}}),Rr=["onKeydown"],vr={class:"dp__selection_grid_header"},Or=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Ir=["aria-label","onKeydown"],Re=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:s,buildMultiLevelMatrix:f,setMonthPicker:k}=Me(),{hideNavigationButtons:$}=ke(n),V=e.ref(!1),P=e.ref(null),O=e.ref(null),N=e.ref([]),d=e.ref(),C=e.ref(null),I=e.ref(0),R=e.ref(null);e.onBeforeUpdate(()=>{P.value=null}),e.onMounted(()=>{e.nextTick().then(()=>A()),E(),q(!0)}),e.onUnmounted(()=>q(!1));const q=B=>{var u;n.arrowNavigation&&((u=n.headerRefs)!=null&&u.length?k(B):s(B))},E=()=>{const B=ue(O);B&&(n.textInput||B.focus({preventScroll:!0}),V.value=B.clientHeight<B.scrollHeight)},v=e.computed(()=>({dp__overlay:!0})),S=e.computed(()=>({dp__overlay_col:!0})),K=B=>n.skipActive?!1:B.value===n.modelValue,Z=e.computed(()=>n.items.map(B=>B.filter(u=>u).map(u=>{var y,w,U;const l=n.disabledValues.some(H=>H===u.value)||p(u.value),h=(y=n.multiModelValue)!=null&&y.length?(w=n.multiModelValue)==null?void 0:w.some(H=>oe(H,c.setYear(n.monthPicker?c.setMonth(new Date,u.value):new Date,n.monthPicker?n.year:u.value))):K(u);return{...u,className:{dp__overlay_cell_active:h,dp__overlay_cell:!h,dp__overlay_cell_disabled:l,dp__overlay_cell_active_disabled:l&&h,dp__overlay_cell_pad:!0,dp__cell_in_between:(U=n.multiModelValue)!=null&&U.length?T(u.value):!1}}}))),ee=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:V.value,dp__button_bottom:n.autoApply})),_=e.computed(()=>{var B,u;return{dp__overlay_container:!0,dp__container_flex:((B=n.items)==null?void 0:B.length)<=6,dp__container_block:((u=n.items)==null?void 0:u.length)>6}}),p=B=>{const u=n.maxValue||n.maxValue===0,l=n.minValue||n.minValue===0;return!u&&!l?!1:u&&l?+B>+n.maxValue||+B<+n.minValue:u?+B>+n.maxValue:l?+B<+n.minValue:!1},A=()=>{const B=ue(P),u=ue(O),l=ue(C),h=ue(R),y=l?l.getBoundingClientRect().height:0;u&&(I.value=u.getBoundingClientRect().height-y),B&&h&&(h.scrollTop=B.offsetTop-h.offsetTop-(I.value/2-B.getBoundingClientRect().height)-y)},Y=B=>{!n.disabledValues.some(u=>u===B)&&!p(B)&&(a("update:model-value",B),a("selected"))},T=B=>{const u=n.monthPicker?n.year:B;return Bt(n.multiModelValue,c.setYear(n.monthPicker?c.setMonth(new Date,d.value||0):new Date,n.monthPicker?u:d.value||u),c.setYear(n.monthPicker?c.setMonth(new Date,B):new Date,u))},x=()=>{a("toggle"),a("reset-flow")},X=()=>{n.escClose&&x()},j=(B,u,l,h)=>{B&&(u.value===+n.modelValue&&!n.disabledValues.includes(u.value)&&(P.value=B),n.arrowNavigation&&(Array.isArray(N.value[l])?N.value[l][h]=B:N.value[l]=[B],M()))},M=()=>{var u,l;const B=(u=n.headerRefs)!=null&&u.length?[n.headerRefs].concat(N.value):N.value.concat([n.skipButtonRef?[]:[C.value]]);f(de(B),(l=n.headerRefs)!=null&&l.length?"monthPicker":"selectionGrid")};return r({focusGrid:E}),(B,u)=>{var l;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:O,class:e.normalizeClass(e.unref(v)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(X,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(_)),ref_key:"containerRef",ref:R,role:"grid",style:e.normalizeStyle({height:`${I.value}px`})},[e.createElementVNode("div",vr,[e.renderSlot(B.$slots,"header")]),B.$slots.overlay?e.renderSlot(B.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(Z),(h,y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:y,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h,(w,U)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(S)),key:w.value,"aria-selected":w.value===t.modelValue&&!t.disabledValues.includes(w.value),"aria-disabled":w.className.dp__overlay_cell_disabled,ref_for:!0,ref:H=>j(H,w,y,U),tabindex:"0","data-test":w.text,onClick:H=>Y(w.value),onKeydown:[e.withKeys(H=>Y(w.value),["enter"]),e.withKeys(H=>Y(w.value),["space"])],onMouseover:H=>d.value=w.value},[e.createElementVNode("div",{class:e.normalizeClass(w.className)},[B.$slots.item?e.renderSlot(B.$slots,"item",{key:0,item:w}):e.createCommentVNode("",!0),B.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.text),1)],64))],2)],42,Or))),128))]))),128))],6),B.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(l=t.ariaLabels)==null?void 0:l.toggleOverlay,class:e.normalizeClass(e.unref(ee)),tabindex:"0",ref_key:"toggleButton",ref:C,onClick:x,onKeydown:e.withKeys(x,["enter"])},[e.renderSlot(B.$slots,"button-icon")],42,Ir)),[[e.vShow,!e.unref($)(t.type)]]):e.createCommentVNode("",!0)],42,Rr)}}}),Yr=["aria-label"],Kt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:s}=Ge(a.transitions),f=e.ref(null);return e.onMounted(()=>r("set-ref",f)),(k,$)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:$[0]||($[0]=V=>k.$emit("toggle")),onKeydown:[$[1]||($[1]=e.withKeys(V=>k.$emit("toggle"),["enter"])),$[2]||($[2]=e.withKeys(V=>k.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:f},[e.renderSlot(k.$slots,"default")],40,Yr),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(s)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":$[3]||($[3]=V=>k.$emit("update:model-value",V)),onToggle:$[4]||($[4]=V=>k.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[k.$slots["calendar-icon"]?e.renderSlot(k.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),k.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[k.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:V})=>[e.renderSlot(k.$slots,t.slotName,{item:V})]),key:"0"}:void 0,k.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(k.$slots,t.overlaySlot)]),key:"1"}:void 0,k.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(k.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Lr={class:"dp__month_year_row"},zr={class:"dp__month_year_wrap"},xr={class:"dp__month_picker_header"},Kr=["aria-label"],Ur=["aria-label"],Hr=["aria-label"],Wr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:s}=ke(n),{transitionName:f,showTransition:k}=Ge(s.value.transitions),{buildMatrix:$}=Me(),{handleMonthYearChange:V,isDisabled:P,updateMonthYear:O}=cr(n,a),N=e.ref(!1),d=e.ref(!1),C=e.ref([null,null,null,null]),I=e.ref(null),R=e.ref(null),q=e.ref(null);e.onMounted(()=>{a("mount")});const E=m=>({get:()=>n[m],set:o=>{const G=m==="month"?"year":"month";a("update-month-year",{[m]:o,[G]:n[G]}),a("month-year-select",m==="year"),m==="month"?y(!0):w(!0)}}),v=e.computed(E("month")),S=e.computed(E("year")),K=m=>{const o=c.getYear(b(m));return n.year===o},Z=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(m=>b(m)).filter(m=>K(m)).map(m=>c.getMonth(m)):[]:[]),ee=e.computed(()=>m=>{const o=m==="month";return{showSelectionGrid:(o?N:d).value,items:(o?B:u).value,disabledValues:s.value.filters[o?"months":"years"].concat(Z.value),minValue:(o?Y:p).value,maxValue:(o?T:A).value,headerRefs:o&&n.monthPicker?[I.value,R.value,q.value]:[],escClose:n.escClose,transitions:s.value.transitions,ariaLabels:s.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),_=e.computed(()=>m=>({month:n.month,year:n.year,items:m==="month"?n.months:n.years,instance:n.instance,updateMonthYear:O,toggle:m==="month"?y:w})),p=e.computed(()=>n.minDate?c.getYear(b(n.minDate)):null),A=e.computed(()=>n.maxDate?c.getYear(b(n.maxDate)):null),Y=e.computed(()=>{if(n.minDate&&p.value){if(p.value>n.year)return 12;if(p.value===n.year)return c.getMonth(b(n.minDate))}return null}),T=e.computed(()=>n.maxDate&&A.value?A.value<n.year?-1:A.value===n.year?c.getMonth(b(n.maxDate)):null:null),x=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),X=m=>m.reverse(),j=(m,o=!1)=>{const G=[],ie=se=>o?X(se):se;for(let se=0;se<m.length;se+=3){const $e=[m[se],m[se+1],m[se+2]];G.push(ie($e))}return o?G.reverse():G},M=e.computed(()=>{const m=n.months.find(o=>o.value===n.month);return m||{text:"",value:0}}),B=e.computed(()=>j(n.months)),u=e.computed(()=>j(n.years,n.reverseYears)),l=e.computed(()=>s.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),h=e.computed(()=>s.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===s.value.multiCalendars-1:!0),y=(m=!1)=>{U(m),N.value=!N.value,N.value||a("overlay-closed")},w=(m=!1)=>{U(m),d.value=!d.value,d.value||a("overlay-closed")},U=m=>{m||a("reset-flow")},H=(m=!1)=>{P.value(m)||a("update-month-year",{year:m?n.year+1:n.year-1,month:n.month,fromNav:!0})},te=(m,o)=>{n.arrowNavigation&&(C.value[o]=ue(m),$(C.value,"monthYear"))};return r({toggleMonthPicker:y,toggleYearPicker:w}),(m,o)=>{var G,ie,se,$e,Ne;return e.openBlock(),e.createElementBlock("div",Lr,[m.$slots["month-year"]?e.renderSlot(m.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(O),handleMonthYearChange:e.unref(V),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!m.monthPicker&&!m.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(l)&&!m.vertical?(e.openBlock(),e.createBlock(ut,{key:0,"aria-label":(G=e.unref(s).ariaLabels)==null?void 0:G.prevMonth,disabled:e.unref(P)(!1),onActivate:o[0]||(o[0]=Q=>e.unref(V)(!1)),onSetRef:o[1]||(o[1]=Q=>te(Q,0))},{default:e.withCtx(()=>[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",zr,[e.createVNode(Kt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ie=e.unref(s).ariaLabels)==null?void 0:ie.openMonthsOverlay,modelValue:e.unref(v),"onUpdate:modelValue":o[2]||(o[2]=Q=>e.isRef(v)?v.value=Q:null)},e.unref(ee)("month"),{onToggle:y,onSetRef:o[3]||(o[3]=Q=>te(Q,1))}),e.createSlots({default:e.withCtx(()=>[m.$slots.month?e.renderSlot(m.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(M)))):e.createCommentVNode("",!0),m.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(M).text),1)],64))]),_:2},[m.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"calendar-icon")]),key:"0"}:void 0,m.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,m.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(_)("month"))))]),key:"2"}:void 0,m.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"month-overlay-header",{toggle:y})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Kt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(se=e.unref(s).ariaLabels)==null?void 0:se.openYearsOverlay,modelValue:e.unref(S),"onUpdate:modelValue":o[4]||(o[4]=Q=>e.isRef(S)?S.value=Q:null)},e.unref(ee)("year"),{onToggle:w,onSetRef:o[5]||(o[5]=Q=>te(Q,2))}),e.createSlots({default:e.withCtx(()=>[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[m.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"calendar-icon")]),key:"0"}:void 0,m.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,m.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(_)("year"))))]),key:"2"}:void 0,m.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"year-overlay-header",{toggle:w})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(l)&&m.vertical?(e.openBlock(),e.createBlock(ut,{key:1,"aria-label":($e=e.unref(s).ariaLabels)==null?void 0:$e.prevMonth,disabled:e.unref(P)(!1),onActivate:o[6]||(o[6]=Q=>e.unref(V)(!1))},{default:e.withCtx(()=>[m.$slots["arrow-up"]?e.renderSlot(m.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(h)?(e.openBlock(),e.createBlock(ut,{key:2,ref:"rightIcon",disabled:e.unref(P)(!0),"aria-label":(Ne=e.unref(s).ariaLabels)==null?void 0:Ne.nextMonth,onActivate:o[7]||(o[7]=Q=>e.unref(V)(!0)),onSetRef:o[8]||(o[8]=Q=>te(Q,3))},{default:e.withCtx(()=>[m.$slots[m.vertical?"arrow-down":"arrow-right"]?e.renderSlot(m.$slots,m.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots[m.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m.vertical?e.unref(Ct):e.unref(bt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),m.monthPicker?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:1},e.unref(ee)("month"),{"skip-active":m.range,year:t.year,"multi-model-value":e.unref(x),"month-picker":"",modelValue:e.unref(v),"onUpdate:modelValue":o[17]||(o[17]=Q=>e.isRef(v)?v.value=Q:null),onToggle:y,onSelected:o[18]||(o[18]=Q=>m.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var Q,F,ae;return[e.createElementVNode("div",xr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:I,onClick:o[9]||(o[9]=re=>H(!1)),onKeydown:o[10]||(o[10]=e.withKeys(re=>H(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(P)(!1)}]),role:"button","aria-label":(Q=e.unref(s).ariaLabels)==null?void 0:Q.prevMonth},[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],10,Kr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:R,"aria-label":(F=e.unref(s).ariaLabels)==null?void 0:F.openYearsOverlay,tabindex:"0",onClick:o[11]||(o[11]=()=>w(!1)),onKeydown:o[12]||(o[12]=e.withKeys(()=>w(!1),["enter"]))},[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ur),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:q,onClick:o[13]||(o[13]=re=>H(!0)),onKeydown:o[14]||(o[14]=e.withKeys(re=>H(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(P)(!0)}]),role:"button","aria-label":(ae=e.unref(s).ariaLabels)==null?void 0:ae.nextMonth},[m.$slots["arrow-right"]?e.renderSlot(m.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],10,Hr)],544)]),e.createVNode(e.Transition,{name:e.unref(f)(d.value),css:e.unref(k)},{default:e.withCtx(()=>[d.value?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:0},e.unref(ee)("year"),{modelValue:e.unref(S),"onUpdate:modelValue":o[15]||(o[15]=re=>e.isRef(S)?S.value=re:null),onToggle:w,onSelected:o[16]||(o[16]=re=>m.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[m.$slots["calendar-icon"]?e.renderSlot(m.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:re})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:re.text,value:re.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[m.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),m.yearPicker?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:2},e.unref(ee)("year"),{modelValue:e.unref(S),"onUpdate:modelValue":o[19]||(o[19]=Q=>e.isRef(S)?S.value=Q:null),"multi-model-value":e.unref(x),"skip-active":m.range,"skip-button-ref":"","year-picker":"",onToggle:w,onSelected:o[20]||(o[20]=Q=>m.$emit("overlay-closed"))}),e.createSlots({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),jr={key:0,class:"dp__time_input"},Gr=["aria-label","onKeydown","onClick"],Zr=["aria-label","data-test","onKeydown","onClick"],qr=["aria-label","onKeydown","onClick"],Xr={key:0},Jr=["aria-label","onKeydown"],Qr=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Be},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:s,setTimePickerBackRef:f}=Me(),{defaults:k}=ke(n),{transitionName:$,showTransition:V}=Ge(k.value.transitions),P=e.reactive({hours:!1,minutes:!1,seconds:!1}),O=e.ref("AM"),N=e.ref(null),d=e.ref([]);e.onMounted(()=>{a("mounted")});const C=e.computed(()=>u=>!!(n.maxTime&&n.maxTime[u]&&n.maxTime[u]<n[u]+ +n[`${u}Increment`])),I=e.computed(()=>u=>!!(n.minTime&&n.minTime[u]&&n.minTime[u]>n[u]-+n[`${u}Increment`])),R=(u,l)=>c.add(c.set(b(),u),l),q=(u,l)=>c.sub(c.set(b(),u),l),E=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),v=e.computed(()=>{const u=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?u.concat([{type:"",separator:!0},{type:"seconds"}]):u}),S=e.computed(()=>v.value.filter(u=>!u.separator)),K=e.computed(()=>u=>{if(u==="hours"){const l=x(n.hours);return{text:l<10?`0${l}`:`${l}`,value:l}}return{text:n[u]<10?`0${n[u]}`:`${n[u]}`,value:n[u]}}),Z=u=>{const l=n.is24?24:12,h=u==="hours"?l:60,y=+n[`${u}GridIncrement`],w=u==="hours"&&!n.is24?y:0,U=[];for(let H=w;H<h;H+=y)U.push({value:H,text:H<10?`0${H}`:`${H}`});return u==="hours"&&!n.is24&&U.push({value:0,text:"12"}),qn(U)},ee=(u,l)=>{const h=n.minTime&&n.minTime[l],y=n.maxTime&&n.maxTime[l];return h&&y?u<h||u>y:h?u<h:y?u>y:!1},_=e.computed(()=>u=>Z(u).flat().map(h=>h.value).filter(h=>ee(h,u))),p=u=>n[`no${u[0].toUpperCase()+u.slice(1)}Overlay`],A=u=>{p(u)||(P[u]=!P[u],P[u]||a("overlay-closed"))},Y=u=>u==="hours"?c.getHours:u==="minutes"?c.getMinutes:c.getSeconds,T=(u,l=!0)=>{const h=l?R:q;(l?C.value(u):I.value(u))||a(`update:${u}`,Y(u)(h({[u]:+n[u]},{[u]:+n[`${u}Increment`]})))},x=u=>n.is24?u:(u>=12?O.value="PM":O.value="AM",Fn(u)),X=()=>{O.value==="PM"?(O.value="AM",a("update:hours",n.hours-12)):(O.value="PM",a("update:hours",n.hours+12))},j=u=>{P[u]=!0},M=(u,l,h)=>{if(u&&n.arrowNavigation){Array.isArray(d.value[l])?d.value[l][h]=u:d.value[l]=[u];const y=d.value.reduce((w,U)=>U.map((H,te)=>[...w[te]||[],U[te]]),[]);f(n.closeTimePickerBtn),N.value&&(y[1]=y[1].concat(N.value)),s(y,n.order)}},B=(u,l)=>u==="hours"&&!n.is24?a(`update:${u}`,O.value==="PM"?l+12:l):a(`update:${u}`,l);return r({openChildCmp:j}),(u,l)=>{var h;return u.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",jr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(y,w)=>{var U,H,te;return e.openBlock(),e.createElementBlock("div",{key:w,class:e.normalizeClass(e.unref(E))},[y.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(C)(y.type)}),role:"button","data-test":"time-inc-btn","aria-label":(U=e.unref(k).ariaLabels)==null?void 0:U.incrementValue(y.type),tabindex:"0",onKeydown:[e.withKeys(m=>T(y.type),["enter"]),e.withKeys(m=>T(y.type),["space"])],onClick:m=>T(y.type),ref_for:!0,ref:m=>M(m,w,0)},[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],42,Gr),e.createElementVNode("div",{role:"button","aria-label":(H=e.unref(k).ariaLabels)==null?void 0:H.openTpOverlay(y.type),class:e.normalizeClass(p(y.type)?"":"dp__time_display"),tabindex:"0","data-test":`${y.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(m=>A(y.type),["enter"]),e.withKeys(m=>A(y.type),["space"])],onClick:m=>A(y.type),ref_for:!0,ref:m=>M(m,w,1)},[u.$slots[y.type]?e.renderSlot(u.$slots,y.type,{key:0,text:e.unref(K)(y.type).text,value:e.unref(K)(y.type).value}):e.createCommentVNode("",!0),u.$slots[y.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(K)(y.type).text),1)],64))],42,Zr),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(I)(y.type)}),role:"button","data-test":"time-dec-btn","aria-label":(te=e.unref(k).ariaLabels)==null?void 0:te.decrementValue(y.type),tabindex:"0",onKeydown:[e.withKeys(m=>T(y.type,!1),["enter"]),e.withKeys(m=>T(y.type,!1),["space"])],onClick:m=>T(y.type,!1),ref_for:!0,ref:m=>M(m,w,2)},[u.$slots["arrow-down"]?e.renderSlot(u.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],42,qr)],64))],2)}),128)),u.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Xr,[u.$slots["am-pm-button"]?e.renderSlot(u.$slots,"am-pm-button",{key:0,toggle:X,value:O.value}):e.createCommentVNode("",!0),u.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:N,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(h=e.unref(k).ariaLabels)==null?void 0:h.amPmButton,tabindex:"0",onClick:X,onKeydown:[e.withKeys(e.withModifiers(X,["prevent"]),["enter"]),e.withKeys(e.withModifiers(X,["prevent"]),["space"])]},e.toDisplayString(O.value),41,Jr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(S),(y,w)=>(e.openBlock(),e.createBlock(e.Transition,{key:w,name:e.unref($)(P[y.type]),css:e.unref(V)},{default:e.withCtx(()=>[P[y.type]?(e.openBlock(),e.createBlock(Re,{key:0,items:Z(y.type),"disabled-values":e.unref(k).filters.times[y.type].concat(e.unref(_)(y.type)),"esc-close":u.escClose,"aria-labels":e.unref(k).ariaLabels,"hide-navigation":u.hideNavigation,"onUpdate:modelValue":U=>B(y.type,U),onSelected:U=>A(y.type),onToggle:U=>A(y.type),onResetFlow:l[0]||(l[0]=U=>u.$emit("reset-flow")),type:y.type},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["clock-icon"]?e.renderSlot(u.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:2},[u.$slots[`${y.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:U})=>[e.renderSlot(u.$slots,`${y.type}-overlay-value`,{text:U.text,value:U.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Fr=["aria-label"],ea={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},ta={key:1,class:"dp__overlay_row"},na=["aria-label"],ra=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:s,setTimePicker:f}=Me(),k=e.useSlots(),{hideNavigationButtons:$,defaults:V}=ke(n),{transitionName:P,showTransition:O}=Ge(V.value.transitions),N=e.ref(null),d=e.ref(null),C=e.ref([]),I=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?s([ue(N.value)],"time"):f(!0,n.timePicker)});const R=e.computed(()=>n.range&&n.modelAuto?It(n.internalModelValue):!0),q=e.ref(!1),E=T=>({hours:Array.isArray(n.hours)?n.hours[T]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[T]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[T]:n.seconds}),v=e.computed(()=>{const T=[];if(n.range)for(let x=0;x<2;x++)T.push(E(x));else T.push(E(0));return T}),S=(T,x=!1,X="")=>{x||a("reset-flow"),q.value=T,n.arrowNavigation&&(f(T),T||a("overlay-closed")),e.nextTick(()=>{X!==""&&C.value[0]&&C.value[0].openChildCmp(X)})},K=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),Z=Te(k,"timePicker"),ee=(T,x,X)=>n.range?x===0?[T,v.value[1][X]]:[v.value[0][X],T]:T,_=T=>{a("update:hours",T)},p=T=>{a("update:minutes",T)},A=T=>{a("update:seconds",T)},Y=()=>{I.value&&n.arrowNavigation&&I.value.focus({preventScroll:!0})};return r({toggleTimePicker:S}),(T,x)=>{var X;return e.openBlock(),e.createElementBlock("div",null,[T.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(X=e.unref(V).ariaLabels)==null?void 0:X.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:N,onKeydown:[x[0]||(x[0]=e.withKeys(j=>S(!0),["enter"])),x[1]||(x[1]=e.withKeys(j=>S(!0),["space"]))],onClick:x[2]||(x[2]=j=>S(!0))},[T.$slots["clock-icon"]?e.renderSlot(T.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Fr)),[[e.vShow,!e.unref($)("time")]]),e.createVNode(e.Transition,{name:e.unref(P)(q.value),css:e.unref(O)},{default:e.withCtx(()=>{var j;return[q.value||T.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:I,tabindex:"0"},[e.createElementVNode("div",ea,[T.$slots["time-picker-overlay"]?e.renderSlot(T.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:_,setMinutes:p,setSeconds:A}):e.createCommentVNode("",!0),T.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ta,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(M,B)=>e.withDirectives((e.openBlock(),e.createBlock(Qr,e.mergeProps({key:B},{...T.$props,order:B,hours:M.hours,minutes:M.minutes,seconds:M.seconds,closeTimePickerBtn:d.value,disabled:B===0?T.fixedStart:T.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:C,"onUpdate:hours":u=>_(ee(u,B,"hours")),"onUpdate:minutes":u=>p(ee(u,B,"minutes")),"onUpdate:seconds":u=>A(ee(u,B,"seconds")),onMounted:Y,onOverlayClosed:Y}),e.createSlots({_:2},[e.renderList(e.unref(Z),(u,l)=>({name:u,fn:e.withCtx(h=>[e.renderSlot(T.$slots,u,e.normalizeProps(e.guardReactiveProps(h)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,B===0?!0:e.unref(R)]])),128))])),T.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:d,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(j=e.unref(V).ariaLabels)==null?void 0:j.closeTimePicker,tabindex:"0",onKeydown:[x[3]||(x[3]=e.withKeys(M=>S(!1),["enter"])),x[4]||(x[4]=e.withKeys(M=>S(!1),["space"]))],onClick:x[5]||(x[5]=M=>S(!1))},[T.$slots["calendar-icon"]?e.renderSlot(T.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,na)),[[e.vShow,!e.unref($)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),aa=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:s}=ke(r),f=e.ref(null),k=e.ref(b()),$=l=>{!l.current&&r.hideOffsetDates||(f.value=l.value)},V=()=>{f.value=null},P=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&f.value?l?he(f.value,t.value[0]):ye(f.value,t.value[0]):!0,O=(l,h)=>{const y=()=>t.value?h?t.value[0]||null:t.value[1]:null,w=t.value&&Array.isArray(t.value)?y():null;return oe(b(l.value),w)},N=l=>{const h=Array.isArray(t.value)?t.value[0]:null;return l?!ye(f.value||null,h):!0},d=(l,h=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!l.current?!1:oe(b(l.value),t.value[h?0:1]):r.range?O(l,h)&&N(h)||oe(l.value,Array.isArray(t.value)?t.value[0]:null)&&P(h):!1,C=(l,h,y)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:y?he(t.value[0],h.value):ye(t.value[0],h.value):!1,I=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?oe(l.value,t.value[0]?t.value[0]:k.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(h=>oe(h,l.value)):oe(l.value,t.value?t.value:k.value),R=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const h=c.addDays(f.value,+r.autoRange),y=s(b(f.value));return r.weekPicker?oe(y[1],b(l.value)):oe(h,b(l.value))}return!1}return!1},q=l=>{if(r.autoRange||r.weekPicker){if(f.value){const h=c.addDays(f.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const y=s(b(f.value));return r.weekPicker?he(l.value,y[0])&&ye(l.value,y[1]):he(l.value,f.value)&&ye(l.value,h)}return!1}return!1},E=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const h=s(b(f.value));return r.weekPicker?oe(h[0],l.value):oe(f.value,l.value)}return!1}return!1},v=l=>Bt(t.value,f.value,l.value),S=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,K=()=>r.modelAuto?It(r.internalModelValue):!0,Z=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const h=r.range?!d(l)&&!d(l,!1):!0;return!a(l.value)&&!I(l)&&!(!l.current&&r.hideOffsetDates)&&h},ee=l=>r.range?r.modelAuto?S()&&I(l):!1:I(l),_=l=>r.highlight?n(l.value,r.highlight):!1,p=l=>a(l.value)&&r.highlightDisabledDays===!1,A=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),Y=l=>(r.range||r.weekPicker)&&(!(r.multiCalendars>0)||l.current)&&K()&&!(!l.current&&r.hideOffsetDates)&&!I(l)?v(l):!1,T=l=>({dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!p(l)&&(_(l)||A(l))&&!ee(l),dp__cell_highlight_active:!p(l)&&(_(l)||A(l))&&ee(l),dp__today:!r.noToday&&oe(l.value,k.value)&&l.current}),x=l=>({dp__active_date:ee(l),dp__date_hover:Z(l)}),X=l=>({...j(l),...M(l),dp__range_between_week:Y(l)&&r.weekPicker}),j=l=>({dp__range_start:r.multiCalendars>0?l.current&&d(l)&&K():d(l)&&K(),dp__range_end:r.multiCalendars>0?l.current&&d(l,!1)&&K():d(l,!1)&&K(),dp__range_between:Y(l)&&!r.weekPicker,dp__date_hover_start:C(Z(l),l,!0),dp__date_hover_end:C(Z(l),l,!1)}),M=l=>({...j(l),dp__cell_auto_range:q(l),dp__cell_auto_range_start:E(l),dp__cell_auto_range_end:R(l)}),B=l=>r.range?r.autoRange?M(l):r.modelAuto?{...x(l),...j(l)}:j(l):r.weekPicker?X(l):x(l);return{setHoverDate:$,clearHoverDate:V,getDayClassData:l=>({...T(l),...B(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},la=["id","onKeydown"],oa={key:0,class:"dp__sidebar_left"},sa={key:1,class:"dp__preset_ranges"},ia=["onClick"],ca={key:2,class:"dp__sidebar_right"},ua={key:3,class:"dp__now_wrap"},da=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{setMenuFocused:s,setShiftKey:f,control:k}=Nt(),{getCalendarDays:$,defaults:V}=ke(n),P=e.useSlots(),O=e.ref(null),N=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),d=e.ref([]),C=e.ref([]),I=e.ref(null),R=e.ref(null),q=e.ref(0),E=e.ref(!1),v=e.ref(0);e.onMounted(()=>{var z;E.value=!0,!((z=n.presetRanges)!=null&&z.length)&&!P["left-sidebar"]&&!P["right-sidebar"]&&Ce();const g=ue(R);if(g&&!n.textInput&&!n.inline&&(s(!0),p()),g){const ce=me=>{!n.monthYearComponent&&!n.timePickerComponent&&!Object.keys(P).length&&me.preventDefault(),me.stopImmediatePropagation(),me.stopPropagation()};g.addEventListener("pointerdown",ce),g.addEventListener("mousedown",ce)}window.addEventListener("resize",Ce)}),e.onUnmounted(()=>{window.removeEventListener("resize",Ce)});const{arrowRight:S,arrowLeft:K,arrowDown:Z,arrowUp:ee}=Me(),_=g=>{g||g===0?C.value[g].triggerTransition(X.value(g),j.value(g)):C.value.forEach((z,ce)=>z.triggerTransition(X.value(ce),j.value(ce)))},p=()=>{const g=ue(R);g&&g.focus({preventScroll:!0})},A=()=>{var g;(g=n.flow)!=null&&g.length&&v.value!==-1&&(v.value+=1,a("flow-step",v.value),D())},Y=()=>{v.value=-1},{calendars:T,modelValue:x,month:X,year:j,time:M,updateTime:B,updateMonthYear:u,selectDate:l,getWeekNum:h,monthYearSelect:y,handleScroll:w,handleArrow:U,handleSwipe:H,getMarker:te,selectCurrentDate:m,presetDateRange:o}=sr(n,a,A,_,v),{setHoverDate:G,clearHoverDate:ie,getDayClassData:se}=aa(x,n);e.watch(T,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const $e=Te(P,"calendar"),Ne=Te(P,"action"),Q=Te(P,"timePicker"),F=Te(P,"monthYear"),ae=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),re=e.computed(()=>Jn(n.yearRange)),ve=e.computed(()=>Qn(n.locale,n.monthNameFormat)),Ce=()=>{const g=ue(O);g&&(q.value=g.getBoundingClientRect().width)},Oe=e.computed(()=>g=>$(X.value(g),j.value(g))),Pe=e.computed(()=>V.value.multiCalendars>0&&n.range?[...Array(V.value.multiCalendars).keys()]:[0]),Ie=e.computed(()=>g=>g===1),mt=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),yt=e.computed(()=>({dp__flex_display:V.value.multiCalendars>0})),Ze=e.computed(()=>({dp__instance_calendar:V.value.multiCalendars>0})),Ye=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),ht=e.computed(()=>g=>gt(Oe,g)),pt=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),gt=(g,z)=>g.value(z).map(ce=>({...ce,days:ce.days.map(me=>(me.marker=te(me),me.classData=se(me),me))})),qe=g=>{g.stopPropagation(),g.stopImmediatePropagation()},Ut=()=>{n.escClose&&a("close-picker")},Ht=(g,z=!1)=>{l(g,z),n.spaceConfirm&&a("select-date")},Xe=g=>{var z;(z=n.flow)!=null&&z.length&&(N[g]=!0,Object.keys(N).filter(ce=>!N[ce]).length||D())},i=(g,z,ce,me,...be)=>{if(n.flow[v.value]===g){const W=me?z.value[0]:z.value;W&&W[ce](...be)}},D=()=>{i("month",d,"toggleMonthPicker",!0,!0),i("year",d,"toggleYearPicker",!0,!0),i("calendar",I,"toggleTimePicker",!1,!1,!0),i("time",I,"toggleTimePicker",!1,!0,!0);const g=n.flow[v.value];(g==="hours"||g==="minutes"||g==="seconds")&&i(g,I,"toggleTimePicker",!1,!0,!0,g)},L=g=>{if(n.arrowNavigation){if(g==="up")return ee();if(g==="down")return Z();if(g==="left")return K();if(g==="right")return S()}else g==="left"||g==="up"?U("left",0,g==="up"):U("right",0,g==="down")},J=g=>{f(g.shiftKey),!n.disableMonthYearSelect&&g.code==="Tab"&&g.target.classList.contains("dp__menu")&&k.value.shiftKeyInMenu&&(g.preventDefault(),g.stopImmediatePropagation(),a("close-picker"))};return r({updateMonthYear:u}),(g,z)=>{var ce;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(ce=e.unref(V).transitions)==null?void 0:ce.menuAppear,mode:"out-in",css:!!g.transitions},{default:e.withCtx(()=>{var me,be;return[e.createElementVNode("div",{id:g.uid?`dp-menu-${g.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:R,role:"dialog",class:e.normalizeClass(e.unref(pt)),onMouseleave:z[14]||(z[14]=(...W)=>e.unref(ie)&&e.unref(ie)(...W)),onClick:qe,onKeydown:[e.withKeys(Ut,["esc"]),z[15]||(z[15]=e.withKeys(e.withModifiers(W=>L("left"),["prevent"]),["left"])),z[16]||(z[16]=e.withKeys(e.withModifiers(W=>L("up"),["prevent"]),["up"])),z[17]||(z[17]=e.withKeys(e.withModifiers(W=>L("down"),["prevent"]),["down"])),z[18]||(z[18]=e.withKeys(e.withModifiers(W=>L("right"),["prevent"]),["right"])),J]},[(g.disabled||g.readonly)&&g.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Ye))},null,2)):e.createCommentVNode("",!0),!g.inline&&!g.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(ae))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((me=g.presetRanges)==null?void 0:me.length)||!!g.$slots["left-sidebar"]||!!g.$slots["right-sidebar"]})},[g.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",oa,[e.renderSlot(g.$slots,"left-sidebar")])):e.createCommentVNode("",!0),(be=g.presetRanges)!=null&&be.length?(e.openBlock(),e.createElementBlock("div",sa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.presetRanges,(W,Ve)=>(e.openBlock(),e.createElementBlock("div",{key:Ve,style:e.normalizeStyle(W.style||{}),class:"dp__preset_range",onClick:ne=>e.unref(o)(W.range,!!W.slot)},[W.slot?e.renderSlot(g.$slots,W.slot,{key:0,presetDateRange:e.unref(o),label:W.label,range:W.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(W.label),1)],64))],12,ia))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:O,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(yt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Pe),(W,Ve)=>(e.openBlock(),e.createElementBlock("div",{key:W,class:e.normalizeClass(e.unref(Ze))},[!g.disableMonthYearSelect&&!g.timePicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.monthYearComponent?g.monthYearComponent:Wr),e.mergeProps({key:0,ref_for:!0,ref:ne=>{ne&&(d.value[Ve]=ne)},months:e.unref(ve),years:e.unref(re),month:e.unref(X)(W),year:e.unref(j)(W),instance:W,"internal-model-value":t.internalModelValue},g.$props,{onMount:z[0]||(z[0]=ne=>Xe("monthYearInput")),onResetFlow:Y,onUpdateMonthYear:ne=>e.unref(u)(W,ne),onMonthYearSelect:e.unref(y),onOverlayClosed:p}),e.createSlots({_:2},[e.renderList(e.unref(F),(ne,ga)=>({name:ne,fn:e.withCtx(kt=>[e.renderSlot(g.$slots,ne,e.normalizeProps(e.guardReactiveProps(kt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(Vr,e.mergeProps({ref_for:!0,ref:ne=>{ne&&(C.value[Ve]=ne)},"specific-mode":e.unref(mt),"get-week-num":e.unref(h),instance:W,"mapped-dates":e.unref(ht)(W),month:e.unref(X)(W),year:e.unref(j)(W)},g.$props,{"flow-step":v.value,"onUpdate:flowStep":z[1]||(z[1]=ne=>v.value=ne),onSelectDate:ne=>e.unref(l)(ne,!e.unref(Ie)(W)),onHandleSpace:ne=>Ht(ne,!e.unref(Ie)(W)),onSetHoverDate:z[2]||(z[2]=ne=>e.unref(G)(ne)),onHandleScroll:ne=>e.unref(w)(ne,W),onHandleSwipe:ne=>e.unref(H)(ne,W),onMount:z[3]||(z[3]=ne=>Xe("calendar")),onResetFlow:Y,onTooltipOpen:z[4]||(z[4]=ne=>g.$emit("tooltip-open",ne)),onTooltipClose:z[5]||(z[5]=ne=>g.$emit("tooltip-close",ne))}),e.createSlots({_:2},[e.renderList(e.unref($e),(ne,ga)=>({name:ne,fn:e.withCtx(kt=>[e.renderSlot(g.$slots,ne,e.normalizeProps(e.guardReactiveProps({...kt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[g.$slots["time-picker"]?e.renderSlot(g.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(M),updateTime:e.unref(B)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[g.enableTimePicker&&!g.monthPicker&&!g.weekPicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.timePickerComponent?g.timePickerComponent:ra),e.mergeProps({key:0,ref_key:"timePickerRef",ref:I,hours:e.unref(M).hours,minutes:e.unref(M).minutes,seconds:e.unref(M).seconds,"internal-model-value":t.internalModelValue},g.$props,{onMount:z[6]||(z[6]=W=>Xe("timePicker")),"onUpdate:hours":z[7]||(z[7]=W=>e.unref(B)(W)),"onUpdate:minutes":z[8]||(z[8]=W=>e.unref(B)(W,!1)),"onUpdate:seconds":z[9]||(z[9]=W=>e.unref(B)(W,!1,!0)),onResetFlow:Y,onOverlayClosed:p}),e.createSlots({_:2},[e.renderList(e.unref(Q),(W,Ve)=>({name:W,fn:e.withCtx(ne=>[e.renderSlot(g.$slots,W,e.normalizeProps(e.guardReactiveProps(ne)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),g.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",ca,[e.renderSlot(g.$slots,"right-sidebar")])):e.createCommentVNode("",!0),g.showNowButton?(e.openBlock(),e.createElementBlock("div",ua,[g.$slots["now-button"]?e.renderSlot(g.$slots,"now-button",{key:0,selectCurrentDate:e.unref(m)}):e.createCommentVNode("",!0),g.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:z[10]||(z[10]=(...W)=>e.unref(m)&&e.unref(m)(...W))},e.toDisplayString(g.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!g.autoApply||g.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.actionRowComponent?g.actionRowComponent:$r),e.mergeProps({key:2,"menu-mount":E.value,"calendar-width":q.value,"internal-model-value":t.internalModelValue},g.$props,{onClosePicker:z[11]||(z[11]=W=>g.$emit("close-picker")),onSelectDate:z[12]||(z[12]=W=>g.$emit("select-date")),onInvalidSelect:z[13]||(z[13]=W=>g.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Ne),(W,Ve)=>({name:W,fn:e.withCtx(ne=>[e.renderSlot(g.$slots,W,e.normalizeProps(e.guardReactiveProps({...ne})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],42,la)]}),_:3},8,["name","css"])}}}),fa=typeof window<"u"?window:void 0,dt=()=>{},ma=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,ya=(t,r,a,n)=>{if(!t)return dt;let s=dt;const f=e.watch(()=>e.unref(t),$=>{s(),$&&($.addEventListener(r,a,n),s=()=>{$.removeEventListener(r,a,n),s=dt})},{immediate:!0,flush:"post"}),k=()=>{f(),s()};return ma(k),k},ha=(t,r,a,n={})=>{const{window:s=fa,event:f="pointerdown"}=n;return s?ya(s,f,$=>{const V=ue(t),P=ue(r);!V||!P||V===$.target||$.composedPath().includes(V)||$.composedPath().includes(P)||a($)},{passive:!0}):void 0},pa=e.defineComponent({__name:"VueDatePicker",props:{...Be},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,s=e.useSlots(),f=e.ref(!1),k=e.toRef(n,"modelValue"),$=e.toRef(n,"timezone"),V=e.ref(null),P=e.ref(null),O=e.ref(!1),{setMenuFocused:N,setShiftKey:d}=Nt(),{clearArrowNav:C}=Me(),{validateDate:I,isValidTime:R,defaults:q}=ke(n);e.onMounted(()=>{A(n.modelValue),n.inline||(window.addEventListener("scroll",M),window.addEventListener("resize",B)),n.inline&&(f.value=!0)}),e.onUnmounted(()=>{n.inline||(window.removeEventListener("scroll",M),window.removeEventListener("resize",B))});const E=Te(s,"all",n.presetRanges),v=Te(s,"input");e.watch([k,$],()=>{A(k.value)},{deep:!0});const{openOnTop:S,menuPosition:K,setMenuPosition:Z,setInitialPosition:ee}=ur(V,P,a,n),{inputValue:_,internalModelValue:p,parseExternalModelValue:A,emitModelValue:Y,formatInputValue:T,checkBeforeEmit:x}=ir(a,n,O),X=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),j=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),M=()=>{f.value&&(n.closeOnScroll?te():n.autoPosition&&Z())},B=()=>{f.value&&Z()},u=()=>{!n.disabled&&!n.readonly&&(ee(),f.value=!0,e.nextTick().then(()=>{Z(),f.value&&a("open")}),f.value||H(),A(n.modelValue))},l=()=>{_.value="",H(),a("update:model-value",null),a("cleared"),te()},h=()=>{const F=p.value;return!F||!Array.isArray(F)&&I(F)?!0:Array.isArray(F)?F.length===2&&I(F[0])&&I(F[1])?!0:I(F[0]):!1},y=()=>{x()&&h()?(Y(),te()):a("invalid-select",p.value)},w=F=>{Y(),n.closeOnAutoApply&&!F&&te()},U=(F=!1)=>{n.autoApply&&R(p.value)&&h()&&(n.range&&Array.isArray(p.value)?(n.partialRange||p.value.length===2)&&w(F):w(F))},H=()=>{n.textInput||(p.value=null)},te=()=>{n.inline||(f.value&&(f.value=!1,N(!1),d(!1),C(),a("closed"),ee(),_.value&&A(k.value)),H(),P.value&&P.value.focusInput())},m=(F,ae)=>{if(!F){p.value=null;return}p.value=F,ae&&(y(),a("text-submit"))},o=()=>{n.autoApply&&R(p.value)&&Y()},G=()=>f.value?te():u(),ie=F=>{p.value=F},se=e.computed(()=>n.textInput&&q.value.textInputOptions.format),$e=()=>{se.value&&(O.value=!0,T()),a("focus")},Ne=()=>{se.value&&(O.value=!1,T()),a("blur")},Q=F=>{V.value&&V.value.updateMonthYear(0,{month:Yt(F.month),year:Yt(F.year)})};return ha(V,P,n.onClickOutside?()=>n.onClickOutside(h):te),r({closeMenu:te,selectDate:y,clearValue:l,openMenu:u,onScroll:M,formatInputValue:T,updateInternalModelValue:ie,setMonthYear:Q}),(F,ae)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(X))},[e.createVNode(kr,e.mergeProps({ref_key:"inputRef",ref:P,"is-menu-open":f.value,"input-value":e.unref(_),"onUpdate:inputValue":ae[0]||(ae[0]=re=>e.isRef(_)?_.value=re:null)},F.$props,{onClear:l,onOpen:u,onSetInputDate:m,onSetEmptyDate:e.unref(Y),onSelectDate:y,onToggle:G,onClose:te,onFocus:$e,onBlur:Ne}),e.createSlots({_:2},[e.renderList(e.unref(v),(re,ve)=>({name:re,fn:e.withCtx(Ce=>[e.renderSlot(F.$slots,re,e.normalizeProps(e.guardReactiveProps(Ce)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),f.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:F.teleport,disabled:F.inline},[f.value?(e.openBlock(),e.createBlock(da,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:V,class:e.unref(j),style:e.unref(K),"open-on-top":e.unref(S)},F.$props,{"internal-model-value":e.unref(p),"onUpdate:internalModelValue":ae[1]||(ae[1]=re=>e.isRef(p)?p.value=re:null),onClosePicker:te,onSelectDate:y,onAutoApply:U,onTimeUpdate:o,onFlowStep:ae[2]||(ae[2]=re=>F.$emit("flow-step",re)),onUpdateMonthYear:ae[3]||(ae[3]=re=>F.$emit("update-month-year",re)),onInvalidSelect:ae[4]||(ae[4]=re=>F.$emit("invalid-select",e.unref(p))),onInvalidFixedRange:ae[5]||(ae[5]=re=>F.$emit("invalid-fixed-range",re)),onRecalculatePosition:e.unref(Z),onTooltipOpen:ae[6]||(ae[6]=re=>F.$emit("tooltip-open",re)),onTooltipClose:ae[7]||(ae[7]=re=>F.$emit("tooltip-close",re))}),e.createSlots({_:2},[e.renderList(e.unref(E),(re,ve)=>({name:re,fn:e.withCtx(Ce=>[e.renderSlot(F.$slots,re,e.normalizeProps(e.guardReactiveProps({...Ce})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}}),ft=(()=>{const t=pa;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(ft[t]=r)}),ft});
